<mat-card class="recipe" >
  <mat-card-header class="recipe__header" fxLayout="column" fxLayoutAlign="space-between center">
    <mat-card-title class="recipe__header__name" [routerLink]="['/recipes', recipe.id]">
      {{recipe.name}}
    </mat-card-title>
    <mat-card-subtitle class="recipe__header__tags" fxLayout="row" fxLayoutAlign="space-around center">
      <span *ngFor="let tag of recipe.recipeTags">{{ tag.tag.name }}</span>
    </mat-card-subtitle>
    <div class="recipe__header__infos" fxLayout="row" fxLayoutAlign="space-between center">
      <span fxLayout="row" fxLayoutAlign="start center">
        <mat-icon>schedule</mat-icon>
        {{ recipe.cookTime }}
      </span>
      <span fxLayout="row" fxLayoutAlign="start center">
        <mat-icon>restaurant_menu</mat-icon>
        Serves {{ recipe.serves }}
      </span>
      <span fxLayout="row" fxLayoutAlign="start center">
        <mat-icon>outdoor_grill</mat-icon>
        {{recipe.difficulty }}
      </span>
      <span fxLayout="row" fxLayoutAlign="start center">
        <mat-icon>star_outline
        </mat-icon>
        {{ getAvgReview(recipe.recipeReviews) }}/5
      </span>
    </div>
  </mat-card-header>
  <mat-divider [inset]="true"></mat-divider>
  <mat-card-content class="recipe__content">
    <!-- <div *ngFor="let instruction of recipe.recipeInstructions; let i = index" class="recipe__content__instruction" fxLayout="row" fxLayoutAlign="start start">
      <span *ngIf="recipe.recipeInstructions.length > 1" class="recipe__content__instruction__index">{{ i + 1 }}.</span>
      <p>{{ instruction.instruction }} </p>
    </div> -->
    <p>{{ recipe.description }}</p>
  </mat-card-content>
  <mat-divider [inset]="true"></mat-divider>
  <mat-card-footer class="recipe__footer" fxLayout="row" fxLayoutAlign="space-between center">
    <div class="recipe__footer__infos" fxLayout="column" fxLayoutAlign="start start">
      <div class="recipe__footer__infos__user" fxLayout="row" fxLayoutAlign="start center">
        <mat-icon>account_circle</mat-icon>
        <span>{{ recipe.author.nickname }}</span>
      </div>
      <span>{{ formatDate(recipe.createdAt) }}</span>
    </div>
    <div class="recipe__footer__likes" fxLayout="row" fxLayoutAlign="space-between center">
      <mat-icon (click)="addOrRemoveFavorite()">{{ recipeInFavorites ? 'favorite' : 'favorite_border'}}</mat-icon>
      <span>{{ recipe.recipeFavorites.length }}</span>
    </div>
  </mat-card-footer>
</mat-card>

